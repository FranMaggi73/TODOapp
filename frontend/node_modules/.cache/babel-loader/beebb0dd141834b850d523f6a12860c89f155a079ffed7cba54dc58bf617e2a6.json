{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maria\\\\OneDrive\\\\Documentos\\\\react\\\\test\\\\client\\\\src\\\\searchbox\\\\searchbox.js\",\n  _s = $RefreshSig$();\nimport './searchbox.css';\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Searchbox() {\n  _s();\n  const [showMenu, setShowMenu] = useState('none');\n  const [todos, setTodos] = useState([]);\n  const [results, setResults] = useState([]);\n  const fetchData = async () => {\n    const todos = await fetch('/todos').then(response => {\n      if (response.status === 200) {\n        return response.json();\n      }\n      throw new Error(`${response.status} - ${response.statusText}`);\n    });\n    setTodos(todos);\n  };\n  fetchData();\n  const display = () => setShowMenu('flex');\n  const hide = () => setShowMenu('none');\n  const search = e => {\n    setResults(getResults(e.target.value.toLowerCase().trim(), todos).splice(0));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fa-solid fa-magnifying-glass\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search...\",\n        onFocus: display,\n        onBlur: hide,\n        onKeyUp: search\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-menu\",\n        style: \"flex\",\n        children: results.map(result => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            onMouseDown: e => window.location.href = `/edit?${result.id}`,\n            children: result.title\n          }, result.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(Searchbox, \"fcieCzzyJSe8ix0BBRaj/eTuYFM=\");\n_c = Searchbox;\nfunction getResults(value, todos) {\n  const results = [];\n  if (value === \"\") {\n    return [];\n  }\n  for (let {\n    title,\n    id\n  } of todos) {\n    if (title.toLowerCase().indexOf(value) === -1) {\n      continue;\n    }\n    results.push({\n      title,\n      id\n    });\n  }\n  return results;\n}\n;\nexport default Searchbox;\nvar _c;\n$RefreshReg$(_c, \"Searchbox\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","Searchbox","_s","showMenu","setShowMenu","todos","setTodos","results","setResults","fetchData","fetch","then","response","status","json","Error","statusText","display","hide","search","e","getResults","target","value","toLowerCase","trim","splice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onFocus","onBlur","onKeyUp","style","map","result","onMouseDown","window","location","href","id","title","_c","indexOf","push","$RefreshReg$"],"sources":["C:/Users/maria/OneDrive/Documentos/react/test/client/src/searchbox/searchbox.js"],"sourcesContent":["import './searchbox.css'\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction Searchbox() {\r\n  const [showMenu, setShowMenu] = useState('none');\r\n  const [todos, setTodos] = useState([]);\r\n  const [results, setResults] = useState([]);\r\n\r\n  const fetchData = async () => {\r\n    const todos = await fetch('/todos')\r\n    .then((response) => {\r\n      if(response.status === 200){\r\n        return response.json();\r\n      }\r\n      throw new Error(`${response.status} - ${response.statusText}`);\r\n    })\r\n    setTodos(todos);\r\n  };\r\n\r\n  fetchData();\r\n\r\n  const display = () => setShowMenu('flex');\r\n  const hide = () => setShowMenu('none');\r\n\r\n  const search = (e) => {\r\n    setResults(getResults(e.target.value.toLowerCase().trim(), todos).splice(0));\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-box\">\r\n      <i className=\"fa-solid fa-magnifying-glass\"></i>\r\n      <div className=\"dropdown\">\r\n        <input \r\n          type=\"text\" \r\n          placeholder=\"Search...\"\r\n          onFocus={display}\r\n          onBlur={hide}\r\n          onKeyUp={search}\r\n        />\r\n        <div \r\n          className=\"dropdown-menu\"\r\n          style='flex'\r\n        >\r\n          {results.map((result) => {\r\n            return (\r\n              <div \r\n                key={result.id}\r\n                className='row' \r\n                onMouseDown={e => (window.location.href = `/edit?${result.id}`)}\r\n              >\r\n                {result.title}\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>  \r\n  )\r\n}\r\n\r\nfunction getResults(value, todos){\r\n  const results = [];\r\n  if(value === \"\") {\r\n    return []\r\n  }\r\n\r\n  for(let { title, id } of todos){\r\n    if(title.toLowerCase().indexOf(value) === -1){\r\n      continue;\r\n    }\r\n    \r\n    results.push({ title, id });\r\n  }\r\n\r\n  return results\r\n};\r\n\r\nexport default Searchbox"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}